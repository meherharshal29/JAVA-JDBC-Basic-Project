import java.sql.*;import java.util.ArrayList;import java.util.List;public class StudentController {//  private final StudentView view;    private final Connection connection;    private static final String URL = "jdbc:mysql://localhost:3306/studentdb?useSSL=false&serverTimezone=UTC";    private static final String USER = "root";    private static final String PASS = "";    public StudentController(StudentView view) {//      this.view = view;        Connection conn = null;        try {            Class.forName("com.mysql.cj.jdbc.Driver");            conn = DriverManager.getConnection(URL, USER, PASS);            System.out.println("✅ Database connected successfully!");        } catch (ClassNotFoundException e) {            System.out.println("❌ JDBC Driver not found: " + e.getMessage());        } catch (SQLException e) {            System.out.println("❌ Database connection failed: " + e.getMessage());        }        this.connection = conn;    }    public void addStudent(int id, String name, int age, String grade) {        String sql = "INSERT INTO students(id, name, age, grade) VALUES(?, ?, ?, ?)";        try (PreparedStatement ps = connection.prepareStatement(sql)) {            ps.setInt(1, id);            ps.setString(2, name);            ps.setInt(3, age);            ps.setString(4, grade);            int rows = ps.executeUpdate();            System.out.println(rows > 0 ? "✅ Student added successfully!" : "❌ Error: Student not inserted.");        } catch (SQLException e) {            System.out.println("⚠ Error while adding student: " + e.getMessage());        }    }    public void displayStudents() {        String sql = "SELECT * FROM students";        List<Student> list = new ArrayList<>();        try (PreparedStatement ps = connection.prepareStatement(sql);             ResultSet rs = ps.executeQuery()) {            while (rs.next()) {                list.add(new Student(                        rs.getInt("id"),                        rs.getString("name"),                        rs.getInt("age"),                        rs.getString("grade")                ));            }//            view.showStudents(list); or                for(Student s : list){                    System.out.println(s.getId() + " | " + s.getName() + " | " + s.getAge() + " | " + s.getGrade());                }        } catch (SQLException e) {            System.out.println("⚠ Error while fetching students: " + e.getMessage());        }    }    public void deleteStudent(int id) {        String sql = "DELETE FROM students WHERE id=?";        try (PreparedStatement ps = connection.prepareStatement(sql)) {            ps.setInt(1, id);            int rows = ps.executeUpdate();            System.out.println(rows > 0 ? "✅ Student deleted successfully!" : "❌ Student not found.");        } catch (SQLException e) {            System.out.println("⚠ Error while deleting student: " + e.getMessage());        }    }    public void updateStudent(int id, String name, int age, String grade) {        String sql = "UPDATE students SET name=?, age=?, grade=? WHERE id=?";        try (PreparedStatement ps = connection.prepareStatement(sql)) {            ps.setString(1, name);            ps.setInt(2, age);            ps.setString(3, grade);            ps.setInt(4, id);            int rows = ps.executeUpdate();            System.out.println(rows > 0 ? "✅ Student updated successfully!" : "❌ Student not found.");        } catch (SQLException e) {            System.out.println("⚠ Error while updating student: " + e.getMessage());        }    }    public void searchStudent(int id) {        String sql = "SELECT * FROM students WHERE id=?";        try (PreparedStatement ps = connection.prepareStatement(sql)) {            ps.setInt(1, id);            List<Student> studentList = new ArrayList<>();            try (ResultSet rs = ps.executeQuery()) {                if (rs.next()) {                   studentList.add(new Student(                            rs.getInt("id"),                            rs.getString("name"),                            rs.getInt("age"),                            rs.getString("grade")                   ));                    for(Student s : studentList){                        System.out.println(s.getId() + " | " + s.getName() + " | " + s.getAge() + " | " + s.getGrade());                    }                } else {                    System.out.println("❌ No student found with ID " + id);                }            }        } catch (SQLException e) {            System.out.println("⚠ Error while searching student: " + e.getMessage());        }    }    public void closeConnection() {        try {            if (connection != null && !connection.isClosed()) {                connection.close();                System.out.println("✅ Database connection closed.");            }        } catch (SQLException e) {            System.out.println("⚠ Error closing connection: " + e.getMessage());        }    }}